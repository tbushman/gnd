extends layout
block page
	//- if (!menu)
	//- 	if (doc)
	//- 
	//- 		- var menu = 'doc'
	//- 	else
	//- 		if (loggedin)
	//- 			if (pageindex)
	//- 				- var menu = 'doc'
	//- 			else
	//- 				- var menu = 'home'
	//- 		else
	//- 			- var menu = 'home'
block content
	
	div#select(:class="type", style="pointer-events: auto;")
		include includes/header.pug

		div.grid-container(:class="type", v-if="data")
			//- - menu = 'home'
			include menu.pug
			include datagallery.pug
		div.grid-container(:class="type", v-else-if="doc")
			- console.log('blrg')
			include menu.pug
			include docgallery.pug

		
		div.grid-container(:class="type" v-else-if="dat && dat[0]")
			//- - menu = 'home'
			include menu.pug
			div(v-for="(data,n) in dat", v-bind:id="n", v-bind:key="n")
				div(v-if="data[0]")
					div
						a(v-bind:href="'/menu/'+data[0].title.ind+'/'+data[0].chapter.ind+''")
							header.row.tb-font-l
								span(v-text="data[0].chapter.str")
								span(v-text="' '")
								span.bd(v-text="(parseInt(data[0].chapter.ind, 10) + 1)")
					include datagallery.pug
		
		div.grid-container(:class="type" v-else-if="pu && pu.username === loggedin")
			//- - menu = 'home'
			include menu.pug
			//- include mydata.pug
			//- if (pu)
			//- 	- menu = 'data'
			div.grid-right(v-if="menu === 'pu'")
				p.tb-font-s(v-text="'My Information'")
				include includes/puedit.pug
				
				//div.grid-mid
				p.tb-font-s(v-text="'Documents I have signed'")
				include datagallery.pug
				//div.grid-left
				//- p.tb-font-s(v-text="'All documents'")
				//- if (dat)
				//- 	- menu = 'home'
				//- 	include datagallery.pug


	//-
		initiate map + event listeners
		