- var keys = ["substrates", "filling"]

div.grid-header.mainHeader
	//if (drawtype)
	
	
	if (loggedin && drawtype && loggedin === menuData.publishers[0].username)
		- var allergies = menuData.publishers[0].allergies
		if (contentData && type === "draw")
			a.mainmenu(href="#", title="Save", id="save", aria-labelledby="continue", onclick="$.post('/api/nextstep/"+menuData.urltitle+"/"+menuData.pageindex+"/"+index+"/"+drawtype+"/"+layer+"').done(function(response){if (document.getElementById('canvas_"+drawtype+"_"+layer+"') !== null) {saveImage(document.getElementById('canvas_"+drawtype+"_"+layer+"'))}})")
				img.i(src="/images/icons/check.svg")
		else
			
			a.dropdown.mainmenu(href="#", title="Menu")
				img.i(src="/images/menu_button.svg")
			
			
		
		div.pullquote
			if (contentData)
				if (type !== "draw" && infowindow === "edit")
					a(href="#", onclick="$('a.dropdown.mainmenu').click();")
				
						span#continue.tb-font-xxl.translate Continue
				
					
					//#{contentData.description}
					//if (type === 'draw' && infowindow === 'edit' && !document.getElementsByClassName('grid-container')[0].classList.contains("selected"))
					//if (pageindex)
				else
					if (type === "draw")
						each ing, j in keys
							if (contentData !== undefined)
								each cat, i in contentData[ing]
									if (cat.unlocked && allergies.indexOf(cat.name) === -1)
										a.tool(href="#", onclick="$.post('/api/selectlayer/"+menuData.urltitle+"/"+menuData.pageindex+"/"+index+"/"+ing+"/"+i+"', function(){window.location.href= '/api/selectlayer'})")
											.ui
												img(src="/images/icons/"+ing+"_"+i+".svg")
												span.tb-font-m #{cat.name}
	else
		a.dropdown.mainmenu(href="#", title="Menu")
			img.i(src="/images/menu_button.svg")

		div.pullquote
			if (contentData)
				span.tb-font-xxl.translate #{contentData.description}
			//if (type === 'draw' && infowindow === 'edit' && !document.getElementsByClassName('grid-container')[0].classList.contains("selected"))

			
div.grid-left#tl
	#wrapper
		div#tlmodules.dropdown
			a.module(href="/", title="home")
				.ui
					img(src="/images/icons/home.svg")
				span.tb-font-l Home
			if (loggedin && drawtype && loggedin === menuData.publishers[0].username)
				each ing, j in keys
					if (contentData !== undefined)
						each cat, i in contentData[ing]
							if (cat.unlocked && allergies.indexOf(cat.name) === -1)
								a.module(href="#", onclick="$.post('/api/selectlayer/"+menuData.urltitle+"/"+menuData.pageindex+"/"+index+"/"+ing+"/"+i+"', function(){window.location.href= '/api/selectlayer'})")
									.ui
										img(src="/images/icons/"+ing+"_"+i+".svg")
									span.tb-font-m #{cat.name}
			//-
				if (loggedin && drawtype && drawtype !== "tools" && drawtype !== "info" && loggedin === menuData.publishers[0].username && type === "draw")
					a.module.dropdown(title="edit")
						.ui
							img(src="/images/icons/edit.svg")
						span.tb-font-l Edit

						each key, j in keys
							if (key !== "tools" && key !== "info")
							
								each ing, k in contentData[key]
									if (ing.unlocked)
										a.module.focus.drop(href="#", onclick="$.post('/api/selectlayer/"+menuData.urltitle+"/"+menuData.pageindex+"/"+index+"/"+ing+"/"+i+"', function(){window.location.href= '/api/selectlayer'})")
											.ui
												img(src=(ing.unlocked ? "/images/icons/"+key+"_"+k+".svg" : "/images/icons/unknown.svg"))
											span.tb-font-l #{ing.name}
									
			if (loggedin)
				a.module(href="/logout", title="logout")
					.ui
						img(src="/images/icons/logout.svg")
					span.tb-font-l Log out
			else
				a.module(href="/login", title="login") 
					.ui
						img(src="/images/icons/login.svg")
					span.tb-font-l Login
				
